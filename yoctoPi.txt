http://www.cnx-software.com/2015/02/27/yocto-project-raspberry-pi-2-board-minimal-image/
When using 16GB & 32GB need to gparted the sdb2 partition
cd wkg
mkdir yocto
cd yocto
mkdir repo072015
cd repo072015
git clone git://git.yoctoproject.org/poky.git
git://git.yoctoproject.org/meta-raspberrypi

mkdir RaspberryPi2
cd RaspberryPi2
rsync -avl ../repo072015/poky .
cd poky/
git checkout -b fido
rsync -avl ../../repo072015/meta-raspberrypi .
git checkout -b fido
git checkout master

. oe-init-build-env
now using a new location of downloads
now using fido branch for poky & meta-raspberrypi

DL_DIR ?= "/home/vidal/wkg/yocto/downloads"
 bitbake rpi-basic-image
Parsing recipes:   7% |###                                      | ETA:  00:09:49

bitbake rpi-basic-image

meta-yocto-bsp    = "fido:0f8d89ce66cfffccc9911d6c61470a585173b79d"
meta-raspberrypi  = "master:7457bf182c8fd550ec877ecd786a3edd16e65495"
meta-oe           
meta-python       
meta-multimedia   
meta-gnome        = "fido:0f8d89ce66cfffccc9911d6c61470a585173b79d"

Build Configuration:
BB_VERSION        = "1.27.1"
BUILD_SYS         = "x86_64-linux"
NATIVELSBSTRING   = "Ubuntu-12.04"
TARGET_SYS        = "arm-poky-linux-gnueabi"
MACHINE           = "raspberrypi2"
DISTRO            = "poky"
DISTRO_VERSION    = "1.8+snapshot-20150822"
TUNE_FEATURES     = "arm armv7a vfp thumb neon callconvention-hard vfpv4 cortexa7"
TARGET_FPU        = "vfp-vfpv4-neon"
meta              
meta-yocto        
meta-yocto-bsp    = "fido:89cf954fe598a32e91f8374b32a2c092e6e2d8c7"
meta-raspberrypi  = "master:17dad9328b100beda1cf870c9075e509b5cbfa90"
meta-oe           
meta-python       
meta-multimedia   
meta-gnome        = "fido:89cf954fe598a32e91f8374b32a2c092e6e2d8c7"
meta-browser      = "master:ca96f4326345dcd779fc539877a04f069f431749"

NOTE: Preparing RunQueue
NOTE: Executing SetScene Tasks
NOTE: Executing RunQueue Tasks
NOTE: Tasks Summary: Attempted 7275 tasks of which 7269 didn't need to be rerun and all succeeded.

wc tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2.manifest 
  3994  11982 264414 tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2.manifest
ls -la tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2.rpi-sdimg 
lrwxrwxrwx 1 vidal vidal 60 Aug 22 05:10 tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2.rpi-sdimg -> core-image-sato-raspberrypi2-20150822104828.rootfs.rpi-sdimg
ls -la tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2-20150822104828.rootfs.rpi-sdimg
-rw-r--r-- 1 vidal vidal 2436890624 Aug 22 05:09 tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2-20150822104828.rootfs.rpi-sdimg



Summary: There were 22 WARNING messages shown.
Summary: There were 2 ERROR messages shown, returning a non-zero exit code.

core-image-sato 3hrs 45 min build time on ws009 amd 6 core with 16GB of Memory now uses
6 instead of 12 in local.conf.

rpi-basic-image 1965 tasks 
core-image-sato with dev-pkgs tools-sdk 5667 tasks
core-image-sato with dev-pkgs tools-sdk 5924 tasks
 kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy
core-image-sato with dev-pkgs tools-sdk 6015 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils
core-image-sato with dev-pkgs tools-sdk 6054 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging
core-image-sato with dev-pkgs tools-sdk 6070 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted
core-image-sato with dev-pkgs tools-sdk 6109 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect"
core-image-sato with dev-pkgs tools-sdk 6135 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree
core-image-sato with dev-pkgs tools-sdk 6233 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples
core-image-sato with dev-pkgs tools-sdk 6325 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk python-myhdl python-bitstring \
 PyPubSub tar "
core-image-sato with dev-pkgs tools-sdk 6351 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb
core-image-sato with dev-pkgs tools-sdk 6364 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse
core-image-sato with dev-pkgs tools-sdk 6377 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse 
core-image-sato with dev-pkgs tools-sdk 6422 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi
core-image-sato with dev-pkgs tools-sdk 6470 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib
core-image-sato with dev-pkgs tools-sdk 6483 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib wiringpi
core-image-sato with dev-pkgs tools-sdk 6655 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib wiringpi squashfs-tools libmtp libtool \
 fluidsynth fluidsynth-dev lua lua-dev lua-staticdev python-cheetah fribidi \
 samba live555 libnotify libsdl-image mpeg2dec \
core-image-sato with dev-pkgs tools-sdk 6726 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib wiringpi squashfs-tools libmtp libtool \
 fluidsynth fluidsynth-dev lua lua-dev lua-staticdev python-cheetah fribidi \
 samba live555 libnotify libsdl-image mpeg2dec \
 qt4-x11-free  tiff gnutls \
 libopus schroedinger tremor \
core-image-sato with dev-pkgs tools-sdk 6800 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib wiringpi squashfs-tools libmtp libtool \
 fluidsynth fluidsynth-dev lua lua-dev lua-staticdev python-cheetah fribidi \
 samba live555 libnotify libsdl-image mpeg2dec \
 qt4-x11-free  tiff gnutls \
 libopus schroedinger tremor hexedit man iproute2 socat \
core-image-sato with dev-pkgs tools-sdk 6839 tasks
kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib wiringpi squashfs-tools libmtp libtool \
 fluidsynth fluidsynth-dev lua lua-dev lua-staticdev python-cheetah fribidi \
 samba live555 libnotify libsdl-image mpeg2dec \
 qt4-x11-free  tiff gnutls \
 libopus schroedinger tremor hexedit man iproute2 socat lame \
 rsync yasm gfortran \
core-image-sato with dev-pkgs tools-sdk 6839 tasks
 kernel-dev xterm git \
 jasper gsl gsl-dev python-netserver python-pygtk python-pygtk-dev \
 python-numpy liba52 liba52-dev libmad libmad-dev libmad-staticdev \
 chkconfig v4l-utils python-imaging parted python-distribute \
 python-pyrex python-pexpect gperf tree libav libav-dev \
 x264 x264-dev libav libav-dev opencv opencv-samples cmake \
 opencv-apps python-opencv tcl tk rpi-gpio python-myhdl python-bitstring \
 PyPubSub tar intelhex pyusb argparse pv openjpeg libftdi \
 python-matplotlib wiringpi squashfs-tools libmtp libtool \
 fluidsynth fluidsynth-dev lua lua-dev lua-staticdev python-cheetah fribidi \
 samba live555 libnotify libsdl-image mpeg2dec \
 qt4-x11-free  tiff gnutls \
 libopus schroedinger tremor hexedit man iproute2 socat lame \
 rsync yasm 
sudo dd if=tmp/deploy/images/raspberrypi2/rpi-basic-image-raspberrypi2.rpi-sdimg | pv | sudo dd of=/dev/sdX bs=16M

dd if=tmp/deploy/images/raspberrypi2/core-image-sato-raspberrypi2.rpi-sdimg | pv | sudo dd of=/dev/sdb bs=16
 
4759552+0 records inMB/s] [                         <=>                        ]
4759552+0 records out
2436890624 bytes (2.4 GB) copied, 1364.7 s, 1.8 MB/s
2.27GB 0:22:44 [ 1.7MB/s] [                          <=>                       ]
152305664+0 records in
152305664+0 records out
2436890624 bytes (2.4 GB) copied, 1367.47 s, 1.8 MB/s






Read more: http://www.cnx-software.com/2015/02/27/yocto-project-raspberry-pi-2-board-minimal-image/#ixzz3gTs5MrwG

212992+0 records in3MB/s] [ <=>                                                ]
212992+0 records out
109051904 bytes (109 MB) copied, 2.53324 s, 43.0 MB/s
 104MB 0:00:02 [  42MB/s] [  <=>                                               ]
0+1598 records in
0+1598 records out
109051904 bytes (109 MB) copied, 13.3466 s, 8.2 MB/s

Use gparted /dev/sdX to resize the 2nd partition.

bitbake meta-toolchain
root@ws009:/home/vidal/wkg/yocto/RaspberryPi2/poky/build/tmp/deploy/sdk# ./poky-glibc-x86_64-meta-toolchain-cortexa7hf-vfp-vfpv4-neon-toolchain-1.8+snapshot.sh  
Poky (Yocto Project Reference Distro) SDK installer version 1.8+snapshot
===========================================================
Enter target directory for SDK (default: /opt/poky/1.8+snapshot): 
You are about to install the SDK to "/opt/poky/1.8+snapshot". Proceed[Y/n]?y
Extracting SDK...done
Setting it up...done
SDK has been successfully set up and is ready to be used.
Each time you wish to use the SDK in a new shell session, you need to source the environment setup script e.g.
 $ . /opt/poky/1.8+snapshot/environment-setup-cortexa7hf-vfp-vfpv4-neon-poky-linux-gnueabi

diff -u local.conf RaspberryPi2/poky/build/conf/local.conf 
--- local.conf	2015-07-20 17:44:56.544117377 -0600
+++ RaspberryPi2/poky/build/conf/local.conf	2015-07-20 17:46:03.741656167 -0600
@@ -34,7 +34,10 @@
 #MACHINE ?= "edgerouter"
 #
 # This sets the default machine to be qemux86 if no other machine is selected:
-MACHINE ??= "qemux86"
+#MACHINE ??= "qemux86"
+#MACHINE = "raspberrypi2"
+MACHINE ??= "raspberrypi2"
+GPU_MEM = "16"

diff -u bblayers.conf RaspberryPi2_test1/poky/build/conf/bblayers.conf 
--- bblayers.conf	2015-07-20 17:45:06.610954757 -0600
+++ RaspberryPi2_test1/poky/build/conf/bblayers.conf	2015-07-20 17:20:40.679711601 -0600
@@ -9,6 +9,7 @@
   /home/vidal/wkg/yocto/RaspberryPi2/poky/meta \
   /home/vidal/wkg/yocto/RaspberryPi2/poky/meta-yocto \
   /home/vidal/wkg/yocto/RaspberryPi2/poky/meta-yocto-bsp \
+  /home/vidal/wkg/yocto/RaspberryPi2/poky/meta-raspberrypi \
   "
 BBLAYERS_NON_REMOVABLE ?= " \
   /home/vidal/wkg/yocto/RaspberryPi2/poky/meta \

diff -u poky.conf RaspberryPi2/poky/meta-yocto/conf/distro/poky.conf 
--- poky.conf	2015-07-20 17:50:20.837808414 -0600
+++ RaspberryPi2/poky/meta-yocto/conf/distro/poky.conf	2015-07-20 17:55:54.034578720 -0600
@@ -72,6 +72,7 @@
 SANITY_TESTED_DISTROS ?= " \
             poky-1.7 \n \
             poky-1.8 \n \
+            Ubuntu-12.04 \n \
             Ubuntu-14.04 \n \
             Ubuntu-14.10 \n \
             Ubuntu-15.04 \n \


